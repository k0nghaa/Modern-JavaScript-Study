# 1️⃣ 메서드와 this

## 메서드 만들기

- 객체의 프로퍼티에 함수를 할당해 객체에게 행동할 수 있는 능력을 부여해줄 수 있다(⇒ 메서드를 만들 수 있음)
- **방법**
객체 안에 함수 표현식으로 함수 만들고, 객체 프로퍼티에 할당 ⇒ 메서드
    
    ```jsx
    user = {
      sayHi: function() {
        alert("Hello");
      }
    };
    
    // 단축 구문
    user = {
      sayHi() { // "sayHi: function()"과 동일
        alert("Hello");
      }
    };
    ```
    

## 메서드와 `this`

- 메서드 내부에서 `this` 키워드를 사용하면 객체에 접근할 수 있음
객체 내 `this`는 해당 객체를 를 나타냄

### `this`

- `this` 값은 컨텍스트에 따라 달라짐(런타임에 결정됨)
    - 함수 선언할 때 `this` 사용 가능
    함수 호출 되기 전까진 `this`에 값 할당 X
    - 동일한 함수라도 다른 객체에서 호출했다면 참조값이 다름
    - 메서드로써 호출된 게 아니라 함수로써 호출된다면 this는 undefined
- 객체 없이 호출한다면?
    - 엄격모드에서는 `this` == `undefined`
    - 엄격모드가 아닐 때는 전역 객체(`window`)를 참조
- **메서드가 어디서 정의되었는지에 상관없이 `this`는 ‘점 앞의’ 객체가 무엇인가에 따라 ‘자유롭게’ 결정된다**

### 화살표 함수에서의 `this`

- 화살표 함수에서는 `this`를 “쓸 수 없다”
- 화살표 함수에서 `this`를  참조하면,
해당 화살표 함수가 아닌 평범한 외부 함수에서 `this`값을 가져옴
- 별개의 `this`가 만들어지는 건 원하지 않고, 
외부 컨텍스트에 있는 `this`를 이용하고 싶은 경우 화살표 함수가 유용

# 2️⃣new 연산자와 생성자 함수

## 생성자 함수

- 규칙
    1. 함수 이름의 첫글자는 대문자로 시작한다.
    2. 반드시 ‘new’ 연산자를 붙여 실행한다.
- 알고리즘
    
    ```jsx
    function User(name) {
      this.name = name;
      this.isAdmin = false;
    }
    
    let user = new User("경하");
    
    alert(user.name); // 경하
    alert(user.isAdmin); // false
    ```
    
    1. 빈 객체를 만들어 this에 할당
    2. 함수 본문 실행. this에 새로운 프로퍼티 추가해 this tnwjd
    3. this 반환
- 의의
    - 재사용할 수 있는 객체 생성 코드를 구현할 수 있다
    
    > **재사용할 필요가 없는 복잡한 객체?**
    익명 생성자 함수로 감싸주면 해결
    > 
    > 
    > ```jsx
    > let user = new function() {
    >   this.name = "John";
    >   this.isAdmin = false;
    > 
    >   // 사용자 객체를 만들기 위한 여러 코드.
    >   // 지역 변수, 복잡한 로직, 구문 등의
    >   // 다양한 코드가 여기에 들어감
    > };
    > ```
    > 

## new.target과 생성자 함수

- `new.target` 프로퍼티 사용하면 함수가 new와 함께 호출된건지 알 수 있음
일반 함수 → undefined 반환
new 함수 → 함수 자체 반환

## 생성자와 return문

- 생성자 함수엔 보통 return문이 없다
반환해야 할 것들은 모두 this에 저장되고,
this는 자동으로 반환되기 때문
- ~~만약 return문이 있다면?~~
    - 객체 return —> this 대신 객체 반환
    - 원시형 return —> return문 무시
 
# 💡새로 알게 된 것

- 보통 객체의 메서드(내장객체)를 호출하면 this(자기 자신, 즉 객체)를 반환하게 만든다
    
    ```jsx
    // 체이닝으로 간단히 쓸 수 있는 이유
    let result = "   Hello World   "
      .trim()
      .toUpperCase()
      .concat("!!!");
    
    console.log(result); // "HELLO WORLD!!!"
    ```
    
    - 내가 메서드를 만들면 직접 return this; 해줘야 체이닝 쓸 수 있음

# 👀 궁금한 것

- 생성자 함수를 써줘야 하는 이유가 잘 와닿지 않아 실무예시가 있다면 알고 싶습니다(일반함수와 일반객체로도 user를 추가해줄 수 있는데 왜 생성자 함수가 유용하다고 하는지?)
- 익명 생성자 함수(new function(){}) 이랑 즉시 실행 함수랑 같은건가요?
